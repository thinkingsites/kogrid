<html>
	<head>
		<link rel="stylesheet" href="reset.css"/>
		<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"/>
		<link rel="stylesheet" href="knockout.kogrid.css"/>        
		<link rel="stylesheet/less" href="readme.less"/>        
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js" type="text/javascript"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" type="text/javascript"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.1.0/lodash.min.js" type="text/javascript"></script>	
		<script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/2.3.0/knockout-min.js" type="text/javascript"></script>	
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-mockjax/1.5.2/jquery.mockjax.min.js" type="text/javascript"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/pagedown/1.0/Markdown.Converter.js" type="text/javascript"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.4.1/less.min.js" type="text/javascript"></script>
		<script src="mockjax.data.js" type="text/javascript"></script>
		<script src="mockjax.settings.js" type="text/javascript"></script>
		<script src="knockout.kogrid.js" type="text/javascript"></script>
		<script type="text/javascript">
		    $(function () {
		        window.viewModel = {
		            url: 'sampledata',
		            columns: ko.observableArray([
						{
						    title: "ID",
						    template: "<input type='checkbox' data-bind='checked : isChecked()'/>",
						    data: {
						        isChecked: function () {
						            return Math.ceil(Math.random() * 10) > 5;
						        }
						    },
						    style: { width: "50px", "text-align": "center" },
						    css: "orange"
						},
						{ title: "Name", key: "name", css: "hover" },
						{ title: "Occupation", key: "occupation" },
						{ title: "Address", key: "address" },
						{ title: "City", key: "city", sortable: true },
						{ title: "State", key: "state", sortable: true },
						{ title: "ZipCode", key: "zipcode", sortable: true },
						{ title: "Phone", key: "phone", visible: ko.observable(false) },
						{ title: "Status", key: "status", visible: ko.observable(false) },
						{ title: "Age", key: "age", style: { width: "50px", "text-align": "center" }, visible: ko.observable(false) }
				    ]),
		            renderComplete: function (element) {
		                $(".ko-grid-pager button", element).css({ "background-color": "pink" });
		            }
		        };

		        ko.applyBindings(window.viewModel, $("#data-grid-container")[0]);

		        $.ajax({
		            url: "readme.md",
		            type: "get",
		            dataType: "text"
		        }).done(function (markdown) {
		            try {
		                var converter = new Markdown.Converter();
		                $("#documentation").html(converter.makeHtml(markdown));
		            } catch (e) {
		                console.error(markdown);
		                console.error(e);
		                $("#documentation").html("<div style='color:red;text-align:center;font-size:20px;'>Documentation did not load.</div>")
		            }
		        });
		    });
		</script>
        <style>
            h1,h2,h3,h4,h5,h6 { font-weight:bold; }
            h1 { font-size: 18px; }
            h2 { font-size: 16px; }
            h3 { font-size: 14px; }
            ul { margin-left:20px; line-height:18px; }
            .orange { background-color : orange; }
            .hover:hover { background-color : #00FF00; }
            .ko-grid-head { text-align:center; }
            .ko-grid-sort-icon { 
                width:20px;
                height:20px;
                text-indent:100%;   
                overflow:hidden;
                margin-left:10px;
            } 
        </style>
	</head>
	<body style="margin:20px;font-size:12px;font-family:sans-serif;">
		<div id="data-grid-container">
			<div>
				<strong>Selected Columns</strong><br>
				<!-- ko foreach : columns -->
					<input type='checkbox' data-bind='checked : _.isUndefined($data.visible)? true : $data.visible , enable: ko.isObservable($data.visible)' >
					<label data-bind='text:title'></label>
				<!-- /ko -->
				</select>
			</div>
			
			<div id="datagrid" data-bind="kogrid : $data"></div>	
		</div>
		
		<br/><br/>
		<hr/>
        <div id="documentation"></div>
	</body>
</html>